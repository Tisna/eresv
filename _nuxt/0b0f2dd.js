(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{854:function(e,t,o){"use strict";o.r(t);var n=o(111),r=o(128),h=o(53),l=o(416),d=o(647),c=o(1057),W=o(302),m=o(137),U=o(415),v=o(301),_=o(633),f={name:"MasterUserWhs",data:function(){return{totalDataWhs:0,totalDataUserWhs:0,singleSelect:!1,dialogWhs:!1,loadingUserWhs:!0,loadingWhs:!0,allDataWhs:[],allDataUserWhs:[],selectedWhs:[],selectedUserWhs:[],optionWhs:{},optionUserWhs:{},dataUser:{},dataCompany:{},headerUserWhs:[{text:"Warehouse",value:"U_WhsCode"}],headerWhs:[{text:"Warehouse",value:"WhsCode"}]}},methods:{openWarehouse:function(e,t){this.dataCompany=Object.assign({},e),this.dataUser=Object.assign({},t),this.dialogWhs=!0,this.getWhs(this.dataUser,e),this.getUserWhs(this.dataUser,e)},addWhs:function(){var e=this;this.$axios.post("/api/master/add-whs",{form:this.selectedWhs,user:this.dataUser,company:this.dataCompany}).then((function(t){e.getWhs(e.dataUser,e.dataCompany),e.getUserWhs(e.dataUser,e.dataCompany),e.selectedUserWhs=[],e.selectedWhs=[]}))},removeWhs:function(){var e=this;this.$axios.post("/api/master/remove-whs",{form:this.selectedUserWhs,user:this.dataUser,company:this.dataCompany}).then((function(t){e.getWhs(e.dataUser,e.dataCompany),e.getUserWhs(e.dataUser,e.dataCompany),e.selectedUserWhs=[],e.selectedWhs=[]}))},getWhs:function(e,t){var o=this;this.$axios.get("/api/master/whs",{params:{options:this.optionWhs,type:"userCompany",user:e,company:t}}).then((function(e){o.loadingWhs=!1,o.allDataWhs=e.data.rows,o.totalDataWhs=e.data.total})).catch((function(e){o.loadingWhs=!1,console.log(e.response.data)}))},getUserWhs:function(e,t){var o=this;this.$axios.get("/api/master/user-whs",{params:{options:this.optionUserWhs,user:e,company:t}}).then((function(e){o.loadingUserWhs=!1,o.allDataUserWhs=e.data.rows,o.totalDataUserWhs=e.data.total})).catch((function(e){o.loadingUserWhs=!1,console.log(e.response.data)}))}}},y=o(61),component=Object(y.a)(f,(function(){var e=this,t=e._self._c;return t(W.a,{attrs:{persistent:"","max-width":"900px"},model:{value:e.dialogWhs,callback:function(t){e.dialogWhs=t},expression:"dialogWhs"}},[t(r.a,[t(h.d,[t("span",{staticClass:"headline"},[e._v("Warehouse "+e._s(e.dataUser.U_UserName))]),e._v(" "),t(v.a),e._v(" "),t(_.a,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var r=o.on,h=o.attrs;return[t(n.a,e._g(e._b({attrs:{icon:"",color:"green",dark:""},on:{click:e.addWhs}},"v-btn",h,!1),r),[t(m.a,[e._v("mdi-plus-circle")])],1)]}}])},[e._v(" "),t("span",[e._v("Add User Warehouse")])]),e._v(" "),t(_.a,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var r=o.on,h=o.attrs;return[t(n.a,e._g(e._b({attrs:{icon:"",color:"red",dark:""},on:{click:e.removeWhs}},"v-btn",h,!1),r),[t(m.a,[e._v("mdi-minus-circle")])],1)]}}])},[e._v(" "),t("span",[e._v("Remove User Warehouse")])])],1),e._v(" "),t(h.c,[t("div",{staticClass:"mt-2"},[t(d.a,[t(U.a,[t(l.a,{attrs:{cols:"12",md:"6"}},[t(c.a,{staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,"item-key":"WhsCode","show-select":"",headers:e.headerWhs,items:e.allDataWhs,"items-per-page":5,"single-select":e.singleSelect,loading:e.loadingWhs},model:{value:e.selectedWhs,callback:function(t){e.selectedWhs=t},expression:"selectedWhs"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12",md:"6"}},[t(c.a,{staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,"item-key":"U_DocEntry","show-select":"",headers:e.headerUserWhs,items:e.allDataUserWhs,"items-per-page":5,"single-select":e.singleSelect,loading:e.loadingUserWhs},model:{value:e.selectedUserWhs,callback:function(t){e.selectedUserWhs=t},expression:"selectedUserWhs"}})],1)],1)],1)],1)]),e._v(" "),t(h.a,[t(v.a),e._v(" "),t(n.a,{attrs:{color:"red darken-1",text:"",small:""},on:{click:function(t){e.dialogWhs=!1}}},[e._v("\n        Close\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);