(window.webpackJsonp=window.webpackJsonp||[]).push([[108,89],{1070:function(e,t,o){"use strict";o.r(t);var l=o(111),d=o(128),m=o(53),n=o(1057),r=o(302),c=o(638),I=o(669),h=o(137),v=o(667),_=o(680),f=o(796),x=o(301),y=o(198),C=o(71),S=o(113),k=(o(13),o(6),o(196),{name:"Item",components:{SpinnerLoading:o(821).default},data:function(){return{ItemWarehouse:[],itemcodeFilterValue:"",itemgroupFilterValue:null,itemnameFilterValue:null,dialog:!1,dialogDelete:!1,totalData:0,allData:[],itemsdata:[],itemsdata_modal:[],editedIndex:-1,result:"",message:"",itemcodeapi:"",item_type:[{id:"RS",type_name:"Ready Stock"},{id:"NRS",type_name:"Not Ready Stock"}],dataFilter:[],counter:0,loading:!0,dialogLoading:!1,options:{},itemSearch:["Item No","Item Name"],search:"",loadNewBtn:!1,ItemCompany:[],companyItem:"",editedItem:{ItemCode:"",TypeName:"",GroupName:"",ItemName:"",ItemGroup:[],U_ItemType:"",ItemInventoryuom:"",ItemSalesuom_name:"",ItemPurchaseuom_name:"",Salesuom:1,ItemPurchaseuom:1,ItemWarehouseInfoCollection:[],DefaultWarehouse:[]},defaultItem:{ItemCode:"",TypeName:"",GroupName:"",ItemName:"",ItemGroup:[],U_ItemType:"",ItemInventoryuom:"",ItemSalesuom_name:"",ItemPurchaseuom_name:"",Salesuom:1,ItemPurchaseuom:1,ItemWarehouseInfoCollection:[],DefaultWarehouse:[]}}},head:function(){return{title:"Master Items"}},computed:{headers:function(){return[{text:"Item Code",align:"left",sortable:!1,value:"ItemCode",filter:this.itemcodeFilter},{text:"Item Name",value:"ItemName",filter:this.itemnameFilter,sortable:!1},{text:"Group Name",value:"GroupName",sortable:!1},{text:"Group Name Filter",value:"ItemGroup",filter:this.itemgroupFilter,align:" d-none",sortable:!1},{text:"Item Type",value:"TypeName",sortable:!1},{text:"Item Type ID",value:"U_ItemType",align:" d-none",sortable:!1},{text:"UOM",value:"ItemInventoryuom",sortable:!1},{text:"On Hand",value:"QuantityOnStock",sortable:!1},{text:"Reserved",value:"-",sortable:!1},{text:"Default WH",value:"def_wh",sortable:!1},{text:"Actions",value:"actions",sortable:!1,align:" d-none"}]},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},headers_modal:function(){return[{text:"Warehouse Code",align:"left",sortable:!1},{text:"Locked",align:"center"},{text:"In Stock",value:"InStock"},{text:"Default Warehouse",align:"center"}]}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0},dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.getDataFromApi(),this.getUserRelationship()},methods:{getDataFromApi:function(){var e=this;this.loading=!0;var t=this;this.$axios.get("/api/items",{params:{options:t.options,itemcodeFilterValue:t.itemcodeFilterValue,itemnameFilterValue:t.itemnameFilterValue,itemgroupFilterValue:t.itemgroupFilterValue,WarehouseInfoCollection:this.ItemWarehouseInfoCollection,companyItem:this.companyItem}}).then((function(t){e.loading=!1,e.allData=t.data.all_items,e.itemsdata=t.data.items_data,e.totalData=t.data.total,e.dataFilter=t.data.filter,e.itemsdata_modal=t.data.items_data_modal,e.ItemWarehouse=t.data.items_warehouse,e.itemsdata.push({GroupID:null,GroupName:"ALL"})})).catch((function(t){e.loading=!1}))},getUserRelationship:function(){var e=this;this.$axios.get("/api/master/users/relationship").then((function(t){e.ItemCompany=t.data.items}))},getwhsRelationship:function(){var e=this;this.$axios.get("/api/master/users/getWarehousecmb").then((function(t){e.defaultItem.ItemWarehouseInfoCollection=t.data.result,e.editedItem.ItemWarehouseInfoCollection=t.data.result}))},editItem:function(e){this.editedIndex=this.allData.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.allData.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.itemsdata.splice(this.editedIndex,1),this.closeDelete()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},searchData:function(){this.getDataFromApi()},save:function(){var e=this;if(this.editedIndex>-1){this.dialogLoading=!0;this.$axios.patch("/api/items/update",{ItemCode:this.editedItem.ItemCode,TypeName:this.editedItem.TypeName,GroupName:this.editedItem.GroupName,ItemName:this.editedItem.ItemName,ItemGroup:this.editedItem.ItemGroup,U_ItemType:this.editedItem.U_ItemType,ItemInventoryuom:this.editedItem.ItemInventoryuom,ItemSalesuom_name:this.editedItem.ItemSalesuom_name,ItemPurchaseuom_name:this.editedItem.ItemPurchaseuom_name,Salesuom:this.editedItem.Salesuom,ItemPurchaseuom:this.editedItem.ItemPurchaseuom,ItemWarehouseInfoCollection:this.editedItem.ItemWarehouseInfoCollection,DefaultWarehouse:this.editedItem.DefaultWarehouse,companyItem:this.companyItem}).then((function(t){t.data.errors?e.$swal(t.data.message):(e.dialogLoading=!1,e.message=t.data.message,e.result=t.data.result,e.$swal(t.data.message),e.editedItem.GroupName=t.data.add_data.GroupName,e.editedItem.TypeName=t.data.add_data.TypeName,e.editedItem.def_wh=t.data.add_data.def_wh,Object.assign(e.allData[e.editedIndex],e.editedItem)),e.close()})).catch((function(t){e.dialogLoading=!1}))}else{this.dialogLoading=!0;this.$axios.post("/api/items/insert",{ItemCode:this.editedItem.ItemCode,TypeName:this.editedItem.TypeName,GroupName:this.editedItem.GroupName,ItemName:this.editedItem.ItemName,ItemGroup:this.editedItem.ItemGroup,U_ItemType:this.editedItem.U_ItemType,ItemInventoryuom:this.editedItem.ItemInventoryuom,ItemSalesuom_name:this.editedItem.ItemSalesuom_name,ItemPurchaseuom_name:this.editedItem.ItemPurchaseuom_name,Salesuom:this.editedItem.Salesuom,ItemPurchaseuom:this.editedItem.ItemPurchaseuom,ItemWarehouseInfoCollection:this.editedItem.ItemWarehouseInfoCollection,DefaultWarehouse:this.editedItem.DefaultWarehouse,companyItem:this.companyItem}).then((function(t){t.data.errors?(e.dialogLoading=!1,e.$swal(t.data.message)):(e.dialogLoading=!1,e.message=t.data.message,e.result=t.data.result,e.allData.push(e.editedItem),e.editedItem.ItemCode=t.data.add_data.itemcode,e.editedItem.GroupName=t.data.add_data.GroupName,e.editedItem.TypeName=t.data.add_data.TypeName,e.editedItem.def_wh=t.data.add_data.def_wh,e.defaultItem.ItemWarehouseInfoCollection=t.data.ItemWarehouseInfoCollection,e.editedItem.ItemWarehouseInfoCollection=t.data.ItemWarehouseInfoCollection,e.$swal(t.data.message),e.close())})).catch((function(t){e.dialogLoading=!1}))}}}}),N=o(61),component=Object(N.a)(k,(function(){var e=this,t=e._self._c;return t(v.a,[t(I.a,{attrs:{sm12:""}},[t(C.a,{attrs:{flat:"",color:"white",dense:""}},[t(S.a,{staticClass:"hidden-xs-only"},[e._v("ITEM LIST")]),e._v(" "),t(c.a,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e._v(" "),t(x.a,{staticClass:"hidden-xs-only"}),e._v(" "),t(I.a,{staticClass:"d-flex"},[t(v.a,{attrs:{wrap:""}},[t(I.a,{staticClass:"pa-2",attrs:{md3:"",sm4:"",xs12:""}},[t(_.a,{attrs:{dense:"",items:e.ItemCompany,"item-text":"items","item-value":"items",label:"Company*",required:"",solo:"","hide-details":"auto"},on:{change:function(t){return e.getDataFromApi()}},model:{value:e.companyItem,callback:function(t){e.companyItem=t},expression:"companyItem"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{md2:"",sm4:"",xs12:""}},[t(y.a,{attrs:{type:"text","hide-details":"auto",solo:"",dense:"",label:"Item Code"},model:{value:e.itemcodeFilterValue,callback:function(t){e.itemcodeFilterValue=t},expression:"itemcodeFilterValue"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{md4:"",sm4:"",xs12:""}},[t(y.a,{attrs:{type:"text","hide-details":"auto",solo:"",dense:"",label:"Item Name"},model:{value:e.itemnameFilterValue,callback:function(t){e.itemnameFilterValue=t},expression:"itemnameFilterValue"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{md3:"",sm4:"",xs12:""}},[t(_.a,{attrs:{items:e.itemsdata,"item-text":"GroupName","item-value":"GroupID",label:"Item Group","hide-details":"auto",solo:"",dense:""},model:{value:e.itemgroupFilterValue,callback:function(t){e.itemgroupFilterValue=t},expression:"itemgroupFilterValue"}})],1)],1)],1),e._v(" "),t(l.a,{attrs:{loading:e.loading,icon:""},on:{click:e.searchData}},[t(h.a,[e._v("mdi-refresh")])],1),e._v(" "),t(r.a,{attrs:{persistent:"","max-width":"800px"},scopedSlots:e._u([{key:"activator",fn:function(o){var d=o.on,n=o.attrs;return[t(m.a,[t(l.a,e._g(e._b({attrs:{icon:"",loading:e.loading,color:"green",dark:""},on:{click:e.searchData}},"v-btn",n,!1),d),[t(h.a,[e._v("mdi-plus-circle")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),t(d.a,[t(C.a,{attrs:{flat:"",dense:"",color:"grey lighten-2"}},[t(x.a,[t("h2",[e._v(e._s(e.formTitle))])]),e._v(" "),t(l.a,{attrs:{icon:"",dense:""},on:{click:function(t){e.dialog=!1}}},[t(h.a,[e._v("mdi-close")])],1)],1),e._v(" "),t(m.c,[t(v.a,{attrs:{wrap:""}},[t(I.a,{staticClass:"d-flex",attrs:{md:""}},[t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md2:""}},[t("label",[e._v("Item Code")]),e._v(" "),t(y.a,{attrs:{label:"Item Code*",solo:"",dense:"","hide-details":"auto",disabled:""},model:{value:e.editedItem.ItemCode,callback:function(t){e.$set(e.editedItem,"ItemCode",t)},expression:"editedItem.ItemCode"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md6:""}},[t("label",[e._v("Item Name")]),e._v(" "),t(y.a,{attrs:{label:"Item Name*",solo:"",dense:"","hide-details":"auto",required:""},model:{value:e.editedItem.ItemName,callback:function(t){e.$set(e.editedItem,"ItemName",t)},expression:"editedItem.ItemName"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md4:""}},[t("label",[e._v("Item Group")]),e._v(" "),t(_.a,{attrs:{dense:"",items:e.itemsdata_modal,"item-text":"GroupName","item-value":"GroupID",label:"Item Group",required:"",solo:"","hide-details":"auto"},model:{value:e.editedItem.ItemGroup,callback:function(t){e.$set(e.editedItem,"ItemGroup",t)},expression:"editedItem.ItemGroup"}})],1)],1),e._v(" "),t(I.a,{staticClass:"d-flex",attrs:{md:""}},[t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md4:""}},[t("label",[e._v("Warehouse")]),e._v(" "),t(_.a,{attrs:{dense:"",items:e.ItemWarehouse,"item-text":"WarehouseCode","item-value":"WarehouseCode",label:"Warehouse Default*","hide-details":"auto",required:"",solo:""},model:{value:e.editedItem.DefaultWarehouse,callback:function(t){e.$set(e.editedItem,"DefaultWarehouse",t)},expression:"editedItem.DefaultWarehouse"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md4:""}},[t("label",[e._v("Item Type")]),e._v(" "),t(_.a,{attrs:{items:e.item_type,"item-text":"type_name","item-value":"id",label:"Item Type",required:"",solo:"",dense:"","hide-details":"auto"},model:{value:e.editedItem.U_ItemType,callback:function(t){e.$set(e.editedItem,"U_ItemType",t)},expression:"editedItem.U_ItemType"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md4:""}},[t("label",[e._v("Inventory Uom")]),e._v(" "),t(y.a,{attrs:{label:"Inventory UoM*","hide-details":"auto",solo:"",dense:"",required:""},model:{value:e.editedItem.ItemInventoryuom,callback:function(t){e.$set(e.editedItem,"ItemInventoryuom",t)},expression:"editedItem.ItemInventoryuom"}})],1)],1),e._v(" "),t(I.a,{staticClass:"d-flex",attrs:{md:""}},[t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md4:""}},[t("label",[e._v("Purchase Uom")]),e._v(" "),t(y.a,{attrs:{label:"Purchase Uom*","hide-details":"auto",solo:"",dense:""},model:{value:e.editedItem.ItemPurchaseuom_name,callback:function(t){e.$set(e.editedItem,"ItemPurchaseuom_name",t)},expression:"editedItem.ItemPurchaseuom_name"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md2:""}},[t("label",[e._v("Purchase Unit")]),e._v(" "),t(y.a,{attrs:{label:"Purchase UoM*",type:"number","hide-details":"auto",solo:"",dense:"",required:""},model:{value:e.editedItem.ItemPurchaseuom,callback:function(t){e.$set(e.editedItem,"ItemPurchaseuom",t)},expression:"editedItem.ItemPurchaseuom"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md4:""}},[t("label",[e._v("Sales Uom")]),e._v(" "),t(y.a,{attrs:{label:"Sales Uom*","hide-details":"auto",solo:"",dense:""},model:{value:e.editedItem.ItemSalesuom_name,callback:function(t){e.$set(e.editedItem,"ItemSalesuom_name",t)},expression:"editedItem.ItemSalesuom_name"}})],1),e._v(" "),t(I.a,{staticClass:"pa-2",attrs:{xs10:"",sm6:"",md2:""}},[t("label",[e._v("Sales Unit")]),e._v(" "),t(y.a,{attrs:{label:"Sales UoM*",type:"number","hide-details":"auto",solo:"",dense:"",required:""},model:{value:e.editedItem.Salesuom,callback:function(t){e.$set(e.editedItem,"Salesuom",t)},expression:"editedItem.Salesuom"}})],1)],1)],1)],1),e._v(" "),e.editedIndex>-1?t(d.a,{staticClass:"mx-auto"},[t(n.a,{staticClass:"elevation-1",attrs:{headers:e.headers_modal,items:e.editedItem.ItemWarehouseInfoCollection},scopedSlots:e._u([{key:"body",fn:function(o){var l=o.items;return[t("tbody",e._l(l,(function(o){return t("tr",{key:o,staticClass:"test-tr",style:{backgroundColor:o.Color}},[t("td",{attrs:{width:"20%"}},[e._v("\n                    "+e._s(o.WarehouseCode)+"\n                  ")]),e._v(" "),t("td",{staticStyle:{"text-align":"center","vertical-align":"middle"},attrs:{width:"10%"}},[t(f.a,{attrs:{"item-value":"item.Locked","hide-details":"auto",disabled:""},model:{value:o.Locked,callback:function(t){e.$set(o,"Locked",t)},expression:"item.Locked"}})],1),e._v(" "),t("td",{attrs:{width:"20%"}},[t(y.a,{attrs:{type:"number","hide-details":"auto",solo:"",dense:"",disabled:""},model:{value:o.InStock,callback:function(t){e.$set(o,"InStock",e._n(t))},expression:"item.InStock"}})],1)])})),0)]}}],null,!1,2339527377)})],1):e._e(),e._v(" "),t(m.a,[t(l.a,{staticClass:"ma-2",attrs:{small:"",color:"red",dark:"",loading:e.loading},on:{click:e.save}},[e._v("\n              Save\n              "),t(h.a,{attrs:{dark:"",right:""}},[e._v("\n                mdi-checkbox-marked-circle\n              ")])],1),e._v(" "),t(x.a)],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"mt-2"},[t(I.a,{staticClass:"d-flex",attrs:{md:""}},[t(I.a,{attrs:{md12:"",xs12:""}},[t(d.a,{staticClass:"mx-auto"},[t(n.a,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.allData,"items-per-page":10,options:e.options,"server-items-length":e.totalData,loading:e.loading},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"body",fn:function(o){var l=o.items;return[t("tbody",e._l(l,(function(o){return t("tr",{key:o.ItemCode,staticClass:"test-tr",style:{backgroundColor:o.Color},on:{click:function(t){return e.editItem(o)}}},[t("td",{attrs:{width:"8%"}},[e._v("\n                    "+e._s(o.ItemCode)+"\n                  ")]),e._v(" "),t("td",{staticStyle:{"text-align":"left","vertical-align":"middle"},attrs:{width:"30%"}},[e._v("\n                    "+e._s(o.ItemName)+"\n                  ")]),e._v(" "),t("td",{attrs:{width:"15%"}},[e._v("\n                    "+e._s(o.GroupName)+"\n                  ")]),e._v(" "),t("td",{staticStyle:{"text-align":"left","vertical-align":"middle"},attrs:{width:"8%"}},[e._v("\n                    "+e._s(o.TypeName)+"\n                  ")]),e._v(" "),t("td",{staticStyle:{"text-align":"left","vertical-align":"middle"},attrs:{width:"5%"}},[e._v("\n                    "+e._s(o.ItemInventoryuom)+"\n                  ")]),e._v(" "),t("td",{staticStyle:{"text-align":"right","vertical-align":"middle"},attrs:{width:"5%"}},[e._v("\n                    "+e._s(o.QuantityOnStock)+"\n                  ")]),e._v(" "),t("td",{staticStyle:{"text-align":"center","vertical-align":"middle"},attrs:{width:"5%"}},[e._v("\n                    -\n                  ")]),e._v(" "),t("td",{staticStyle:{"text-align":"left","vertical-align":"middle"},attrs:{width:"7%"}},[e._v("\n                    "+e._s(o.def_wh)+"\n                  ")])])})),0)]}}])})],1)],1)],1)],1)],1),e._v(" "),e.dialogLoading?t("spinner-loading",{ref:"spinnerLoadingImport"}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SpinnerLoading:o(821).default})},667:function(e,t,o){"use strict";o(303);var l=o(304);t.a=Object(l.a)("layout")},669:function(e,t,o){"use strict";o(303);var l=o(304);t.a=Object(l.a)("flex")},757:function(e,t,o){var content=o(806);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(19).default)("5436f1f1",content,!0,{sourceMap:!1})},805:function(e,t,o){"use strict";o(757)},806:function(e,t,o){var l=o(18)((function(i){return i[1]}));l.push([e.i,".card-title-style[data-v-3ca64043]{font-size:13px!important;margin-bottom:15px!important}",""]),l.locals={},e.exports=l},821:function(e,t,o){"use strict";o.r(t);var l=o(128),d=o(53),m=o(302),n=o(638),r=o(669),c=o(667),I=o(277),h=o(301),v={name:"SpinnerLoading",data:function(){return{SpinnerLoading:!0}},methods:{showLoadingSpinner:function(){this.SpinnerLoading=!0},hideLoadingSpinner:function(){this.SpinnerLoading=!1}}},_=(o(805),o(61)),component=Object(_.a)(v,(function(){var e=this,t=e._self._c;return t(m.a,{staticStyle:{"z-index":"20001"},attrs:{"no-click-animation":"",persistent:"","max-width":"200px",transition:"dialog-bottom-transition"},model:{value:e.SpinnerLoading,callback:function(t){e.SpinnerLoading=t},expression:"SpinnerLoading"}},[t(l.a,[t(d.d,{staticClass:"headline grey lighten-2 card-title-style"},[e._v("\n      Processing, Please Wait!\n    ")]),e._v(" "),t(d.c,{staticClass:"text-center",staticStyle:{"margin-top":"10px"}},[t(c.a,{attrs:{row:"",wrap:""}},[t(r.a,{attrs:{xs12:""}},[t(I.a,{attrs:{size:40,width:5,color:"blue",indeterminate:""}})],1)],1)],1),e._v(" "),t(n.a),e._v(" "),t(d.a,[t(h.a)],1)],1)],1)}),[],!1,null,"3ca64043",null);t.default=component.exports}}]);